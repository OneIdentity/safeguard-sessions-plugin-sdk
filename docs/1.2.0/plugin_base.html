
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    
    <title>11. Plugin base functions &#8212; Safeguard for Privileged Sessions Plugin SDK 1.2.0 documentation</title>

    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-4.3.1-dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinxbootstrap4.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/bootstrap-4.3.1-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/sphinxbootstrap4.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="12. About us" href="about.html" />
    <link rel="prev" title="10.3. UserList data injection" href="fake_user_list.html" />
    <link rel="stylesheet" href="_static/css/oi.css" type="text/css" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-84081903-18"></script>
    <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());

     gtag('config', 'UA-84081903-18');
    </script>
     

  </head><body>
  <nav class="navbar navbar-expand-md  fixed-top navbar-dark bg-dark flex-wrap">
    <button class="navbar-toggler ml-auto py-2" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar2">
      &#9776;
    </button>
      <div class="navbar-collapse collapse" id="exCollapsingNavbar2">
           <a class="navbar-brand py-1" href="index.html">
                  Safeguard for Privileged Sessions Plugin SDK
          </a>
          <span class="navbar-text navbar-version pb-0 pt-1"><b>1.2.0</b></span>
          <ul class="navbar-nav mr-auto">
          
              <li class="nav-item dropdown d-none d-sm-block" id="navbar-pages">
                  <a class="nav-link dropdown-toggle" data-toggle="dropdown">Pages</a>
                  <ul class="dropdown-menu">
                  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="history.html">1. History of releases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="history.html#latest-release">1.1. Latest release</a></li>
<li class="toctree-l2"><a class="reference internal" href="history.html#previous-releases">1.2. Previous releases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">2. Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-1-2-0">2.1. Changes in version 1.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-1-1-4">2.2. Changes in version 1.1.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-1-1-3">2.3. Changes in version 1.1.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-1-1-2">2.4. Changes in version 1.1.2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">3. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">4. Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#starting-from-a-plugin-skeleton">4.1. Starting from a plugin skeleton</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#starting-from-scratch">4.2. Starting from scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#preparing-the-python-environment">4.3. Preparing the python environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#using-the-python-environment">4.4. Using the python environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pluginv.html">5. pluginv build script</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pluginv.html#version-of-plugin-sdk">5.1. Version of Plugin SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginv.html#snapshot-build">5.2. Snapshot build</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginv.html#release-build">5.3. Release build</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginv.html#run-test-scenarios">5.4. Run test scenarios</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="aa_plugins.html">6. AA plugin development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="aa_plugin_common_configuration.html">6.1. Common configuration options</a></li>
<li class="toctree-l2"><a class="reference internal" href="aa_plugin_development.html">6.2. Plugin development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#administrative-tasks">6.2.1. Administrative tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#basic-functionality">6.2.2. Basic functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#pre-defined-attributes-on-self">6.2.3. Pre-defined attributes on self</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#asking-the-end-user">6.2.4. Asking the end-user</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#using-cookies">6.2.5. Using cookies</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#setting-gateway-user-and-groups">6.2.6. Setting gateway user and groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#setting-additional-meta-data">6.2.7. Setting additional meta data</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#avoiding-costly-calculations">6.2.8. Avoiding costly calculations</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#adding-to-the-constructor">6.2.9. Adding to the constructor</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#authentication-cache">6.2.10. Authentication cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#altering-the-steps">6.2.11. Altering the steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="aa_plugin_plugin_response.html">6.3. Plugin response</a></li>
<li class="toctree-l2"><a class="reference internal" href="aa_plugin_connection_information.html">6.4. Connection information</a></li>
<li class="toctree-l2"><a class="reference internal" href="aa_plugin_aa_plugin.html">6.5. AAPlugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_aa_plugin.html#aaplugin-way-of-working">6.5.1. AAPlugin way of working</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_aa_plugin.html#aaplugin-methods-and-attributes">6.5.2. AAPlugin methods and attributes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mfa_client.html">7. MFA Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="credentialstore_plugins.html">8. Credential Store plugin development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="credentialstore_plugin_common_configuration.html">8.1. Common configuration options</a></li>
<li class="toctree-l2"><a class="reference internal" href="credentialstore_plugin_development.html">8.2. Plugin development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="credentialstore_plugin_development.html#administrative-tasks">8.2.1. Administrative tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="credentialstore_plugin_development.html#basic-functionality">8.2.2. Basic functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="credentialstore_plugin_development.html#pre-defined-attributes-on-self">8.2.3. Pre-defined attributes on self</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="credentialstore_plugin_credentialstore_plugin.html">8.3. CredentialStorePlugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="credentialstore_plugin_credentialstore_plugin.html#credentialstoreplugin-way-of-working">8.3.1. CredentialStorePlugin way of working</a></li>
<li class="toctree-l3"><a class="reference internal" href="credentialstore_plugin_credentialstore_plugin.html#credentialstoreplugin-methods-and-attributes">8.3.2. CredentialStorePlugin methods and attributes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="services.html">9. Plugin SDK services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="service_plugin_configuration.html">9.1. PluginConfiguration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="service_plugin_configuration.html#module-safeguard.sessions.plugin.plugin_configuration_exceptions">9.1.1. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="service_logging.html">9.2. Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="service_logging.html#configuration-example">9.2.1. Configuration example</a></li>
<li class="toctree-l3"><a class="reference internal" href="service_logging.html#configuring-the-logger-service">9.2.2. Configuring the logger service</a></li>
<li class="toctree-l3"><a class="reference internal" href="service_logging.html#acquiring-a-logger">9.2.3. Acquiring a logger</a></li>
<li class="toctree-l3"><a class="reference internal" href="service_logging.html#usage-example">9.2.4. Usage example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="service_credential_store.html">9.3. CredentialStore</a><ul>
<li class="toctree-l3"><a class="reference internal" href="service_credential_store.html#configuration-example">9.3.1. Configuration example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="service_credential_store.html#acquiring-a-credentialstore">9.3.1.1. Acquiring a CredentialStore</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="service_credential_store.html#module-safeguard.sessions.plugin.credential_store_exceptions">9.3.2. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="service_ldap_server.html">9.4. LDAPServer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="service_ldap_server.html#configuration-example">9.4.1. Configuration example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="service_ldap_server.html#acquiring-a-user-attribute">9.4.1.1. Acquiring a user attribute</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="service_ldap_server.html#module-safeguard.sessions.plugin.ldap_server_exceptions">9.4.2. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="service_user_list.html">9.5. UserList</a><ul>
<li class="toctree-l3"><a class="reference internal" href="service_user_list.html#configuration-example">9.5.1. Configuration example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="service_user_list.html#checking-whether-a-user-name-matches-a-user-list">9.5.1.1. Checking whether a user name matches a User List</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="service_user_list.html#module-safeguard.sessions.plugin.user_list_exceptions">9.5.2. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="service_host_resolver.html">9.6. HostResolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="service_base_exceptions.html">9.7. Base class for exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fakes.html">10. Fake services for testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fake_credential_store.html">10.1. CredentialStore data injection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fake_credential_store.html#example-usage">10.1.1. Example usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="fake_credential_store.html#example-usage-with-pytest-and-monkeypatch">10.1.2. Example usage with pytest and monkeypatch</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fake_ldap_server.html">10.2. LDAPServer data injection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fake_ldap_server.html#example-usage">10.2.1. Example usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="fake_ldap_server.html#example-usage-with-pytest-and-monkeypatch">10.2.2. Example usage with pytest and monkeypatch</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fake_user_list.html">10.3. UserList data injection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fake_user_list.html#example-usage">10.3.1. Example usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="fake_user_list.html#example-usage-with-pytest-and-monkeypatch">10.3.2. Example usage with pytest and monkeypatch</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">11. Plugin base functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">12. About us</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#contacting-us">13. Contacting us</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#technical-support-resources">14. Technical support resources</a></li>
</ul>

                  </ul>
              </li>
          </ul>
          <div class="dropdown-divider d-block d-sm-none mb-4"></div>
             
<form class="form-inline" action="search.html" method="get">
  <input type="text" name="q" class="form-control" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <!--<div class="row hidden-sm-up">
          <div class="collapse navbar-toggleable-xs container" id="exCollapsingNavbar2">
              <div class="container">
             　　 <a class="navbar-brand" href="index.html">
                      Safeguard for Privileged Sessions Plugin SDK
                  </a>
              </div>
              <ul class="nav navbar-nav">
              </ul>
              <div class="dropdown-divider"></div>
              <div class="navbar-text">search<div>
              
<form class="form-inline" action="search.html" method="get">
  <input type="text" name="q" class="form-control" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          </div>
      </div>-->
    </nav>
  </div>

    <div class="related d-flex justify-content-between bg-light flex-wrap" role="navigation" aria-label="related navigation">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html">Safeguard for Privileged Sessions Plugin SDK 1.2.0 documentation</a></li>
            <li class="breadcrumb-item active">11. Plugin base functions</li>
        </ol>
       <div>
          <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
               <a href="fake_user_list.html" title="Previous Chapter: 10.3. UserList data injection" class="btn btn-primary" role="botton" accesskey="P">
                   &laquo; 10.3. UserLis...
               </a>
               <a href="about.html" title="Next Chapter: 12. About us" class="btn btn-primary" role="botton" accesskey="N">
                   12. About us &raquo;
               </a>
           </div>
       </div>
    </div>

  <div class="main container-fluid">
    <div class="row"> 
      <div class="sphinxsidebar d-none d-md-block">
        <div class="sphinxsidebarwrapper">          
            <h4>Table Of Contents</h4>
            
            
              <div class="sidebartoctree">
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="history.html">1. History of releases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="history.html#latest-release">1.1. Latest release</a></li>
<li class="toctree-l2"><a class="reference internal" href="history.html#previous-releases">1.2. Previous releases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">2. Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-1-2-0">2.1. Changes in version 1.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-1-1-4">2.2. Changes in version 1.1.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-1-1-3">2.3. Changes in version 1.1.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-1-1-2">2.4. Changes in version 1.1.2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">3. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">4. Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#starting-from-a-plugin-skeleton">4.1. Starting from a plugin skeleton</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#starting-from-scratch">4.2. Starting from scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#preparing-the-python-environment">4.3. Preparing the python environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#using-the-python-environment">4.4. Using the python environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pluginv.html">5. pluginv build script</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pluginv.html#version-of-plugin-sdk">5.1. Version of Plugin SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginv.html#snapshot-build">5.2. Snapshot build</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginv.html#release-build">5.3. Release build</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginv.html#run-test-scenarios">5.4. Run test scenarios</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="aa_plugins.html">6. AA plugin development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="aa_plugin_common_configuration.html">6.1. Common configuration options</a></li>
<li class="toctree-l2"><a class="reference internal" href="aa_plugin_development.html">6.2. Plugin development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#administrative-tasks">6.2.1. Administrative tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#basic-functionality">6.2.2. Basic functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#pre-defined-attributes-on-self">6.2.3. Pre-defined attributes on self</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#asking-the-end-user">6.2.4. Asking the end-user</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#using-cookies">6.2.5. Using cookies</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#setting-gateway-user-and-groups">6.2.6. Setting gateway user and groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#setting-additional-meta-data">6.2.7. Setting additional meta data</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#avoiding-costly-calculations">6.2.8. Avoiding costly calculations</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#adding-to-the-constructor">6.2.9. Adding to the constructor</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#authentication-cache">6.2.10. Authentication cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_development.html#altering-the-steps">6.2.11. Altering the steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="aa_plugin_plugin_response.html">6.3. Plugin response</a></li>
<li class="toctree-l2"><a class="reference internal" href="aa_plugin_connection_information.html">6.4. Connection information</a></li>
<li class="toctree-l2"><a class="reference internal" href="aa_plugin_aa_plugin.html">6.5. AAPlugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_aa_plugin.html#aaplugin-way-of-working">6.5.1. AAPlugin way of working</a></li>
<li class="toctree-l3"><a class="reference internal" href="aa_plugin_aa_plugin.html#aaplugin-methods-and-attributes">6.5.2. AAPlugin methods and attributes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mfa_client.html">7. MFA Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="credentialstore_plugins.html">8. Credential Store plugin development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="credentialstore_plugin_common_configuration.html">8.1. Common configuration options</a></li>
<li class="toctree-l2"><a class="reference internal" href="credentialstore_plugin_development.html">8.2. Plugin development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="credentialstore_plugin_development.html#administrative-tasks">8.2.1. Administrative tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="credentialstore_plugin_development.html#basic-functionality">8.2.2. Basic functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="credentialstore_plugin_development.html#pre-defined-attributes-on-self">8.2.3. Pre-defined attributes on self</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="credentialstore_plugin_credentialstore_plugin.html">8.3. CredentialStorePlugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="credentialstore_plugin_credentialstore_plugin.html#credentialstoreplugin-way-of-working">8.3.1. CredentialStorePlugin way of working</a></li>
<li class="toctree-l3"><a class="reference internal" href="credentialstore_plugin_credentialstore_plugin.html#credentialstoreplugin-methods-and-attributes">8.3.2. CredentialStorePlugin methods and attributes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="services.html">9. Plugin SDK services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="service_plugin_configuration.html">9.1. PluginConfiguration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="service_plugin_configuration.html#module-safeguard.sessions.plugin.plugin_configuration_exceptions">9.1.1. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="service_logging.html">9.2. Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="service_logging.html#configuration-example">9.2.1. Configuration example</a></li>
<li class="toctree-l3"><a class="reference internal" href="service_logging.html#configuring-the-logger-service">9.2.2. Configuring the logger service</a></li>
<li class="toctree-l3"><a class="reference internal" href="service_logging.html#acquiring-a-logger">9.2.3. Acquiring a logger</a></li>
<li class="toctree-l3"><a class="reference internal" href="service_logging.html#usage-example">9.2.4. Usage example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="service_credential_store.html">9.3. CredentialStore</a><ul>
<li class="toctree-l3"><a class="reference internal" href="service_credential_store.html#configuration-example">9.3.1. Configuration example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="service_credential_store.html#acquiring-a-credentialstore">9.3.1.1. Acquiring a CredentialStore</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="service_credential_store.html#module-safeguard.sessions.plugin.credential_store_exceptions">9.3.2. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="service_ldap_server.html">9.4. LDAPServer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="service_ldap_server.html#configuration-example">9.4.1. Configuration example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="service_ldap_server.html#acquiring-a-user-attribute">9.4.1.1. Acquiring a user attribute</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="service_ldap_server.html#module-safeguard.sessions.plugin.ldap_server_exceptions">9.4.2. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="service_user_list.html">9.5. UserList</a><ul>
<li class="toctree-l3"><a class="reference internal" href="service_user_list.html#configuration-example">9.5.1. Configuration example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="service_user_list.html#checking-whether-a-user-name-matches-a-user-list">9.5.1.1. Checking whether a user name matches a User List</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="service_user_list.html#module-safeguard.sessions.plugin.user_list_exceptions">9.5.2. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="service_host_resolver.html">9.6. HostResolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="service_base_exceptions.html">9.7. Base class for exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fakes.html">10. Fake services for testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fake_credential_store.html">10.1. CredentialStore data injection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fake_credential_store.html#example-usage">10.1.1. Example usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="fake_credential_store.html#example-usage-with-pytest-and-monkeypatch">10.1.2. Example usage with pytest and monkeypatch</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fake_ldap_server.html">10.2. LDAPServer data injection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fake_ldap_server.html#example-usage">10.2.1. Example usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="fake_ldap_server.html#example-usage-with-pytest-and-monkeypatch">10.2.2. Example usage with pytest and monkeypatch</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fake_user_list.html">10.3. UserList data injection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fake_user_list.html#example-usage">10.3.1. Example usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="fake_user_list.html#example-usage-with-pytest-and-monkeypatch">10.3.2. Example usage with pytest and monkeypatch</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">11. Plugin base functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">12. About us</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#contacting-us">13. Contacting us</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#technical-support-resources">14. Technical support resources</a></li>
</ul>

              </div>
            
          
  <h4>Previous topic</h4>
  <p class="topless"><a href="fake_user_list.html"
                        title="previous chapter">10.3. UserList data injection</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="about.html"
                        title="next chapter">12. About us</a></p>
<div id="searchbox" style="display: none">
    <form class="form search" action="search.html" method="get">
      <input type="text" name="q" class="form-control" placeholder="Search..." />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>

<script type="text/javascript">$('#searchbox').show(0);</script>
  <ul class="this-page-menu list-unstyled text-right">
    <li><a href="_sources/plugin_base.rst.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
        </div>
      </div> 

      <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-safeguard.sessions.plugin.plugin_base">
<span id="plugin-base-functions"></span><h1>11. Plugin base functions<a class="headerlink" href="#module-safeguard.sessions.plugin.plugin_base" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-safeguard.sessions.plugin.plugin_base"></span><p>The following decorators and the
<a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.PluginBase" title="safeguard.sessions.plugin.plugin_base.PluginBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">PluginBase</span></code></a> class may be used in any Plugin SDK based plugin
to get some basic functionality.</p>
<dl class="function">
<dt id="safeguard.sessions.plugin.plugin_base.lazy_property">
<code class="descclassname">safeguard.sessions.plugin.plugin_base.</code><code class="descname">lazy_property</code><span class="sig-paren">(</span><em>factory</em><span class="sig-paren">)</span><a class="headerlink" href="#safeguard.sessions.plugin.plugin_base.lazy_property" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.lazy_property" title="safeguard.sessions.plugin.plugin_base.lazy_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;lazy_property</span></code></a> decorator is used to mark attributes that should only be evaluated when
accessed. This is useful when the calculation of the attribute is heavy, but not always necessary.</p>
<p><strong>Usage</strong></p>
<p>To use <code class="docutils literal notranslate"><span class="pre">self.foobar</span></code> as a lazy property, simply define it on the Plugin class, and decorate it with
<a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.lazy_property" title="safeguard.sessions.plugin.plugin_base.lazy_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;lazy_property</span></code></a> decorator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">safeguard.sessions.plugin</span> <span class="kn">import</span> <span class="n">AAPlugin</span>
<span class="kn">from</span> <span class="nn">safeguard.sessions.plugin.plugin_base</span> <span class="kn">import</span> <span class="n">lazy_property</span>

<span class="k">class</span> <span class="nc">MyPlugin</span><span class="p">(</span><span class="n">AAPlugin</span><span class="p">):</span>
    <span class="nd">@lazy_property</span>
    <span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">calculate_answer</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">do_authenticate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">need_foobar</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">foobar</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="safeguard.sessions.plugin.plugin_base.cookie_property">
<code class="descclassname">safeguard.sessions.plugin.plugin_base.</code><code class="descname">cookie_property</code><span class="sig-paren">(</span><em>factory</em><span class="sig-paren">)</span><a class="headerlink" href="#safeguard.sessions.plugin.plugin_base.cookie_property" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.cookie_property" title="safeguard.sessions.plugin.plugin_base.cookie_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;cookie_property</span></code></a> decorator is used to mark attributes that should be passed in the
cookie between invocations of the same plugin. Setting up such property is an easy way to store and retrieve data
in <code class="docutils literal notranslate"><span class="pre">self.cookie</span></code>. Similarly to <a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.lazy_property" title="safeguard.sessions.plugin.plugin_base.lazy_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;lazy_property</span></code></a> attributes, the evaulation of a
<a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.cookie_property" title="safeguard.sessions.plugin.plugin_base.cookie_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;cookie_property</span></code></a> attribute is also delayed until usage.</p>
<p><strong>Usage</strong></p>
<p>To use <code class="docutils literal notranslate"><span class="pre">self.foobar</span></code> as a cookie property, simply define it on the Plugin class, and decorate it with
<a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.cookie_property" title="safeguard.sessions.plugin.plugin_base.cookie_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;cookie_property</span></code></a> decorator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">safeguard.sessions.plugin</span> <span class="kn">import</span> <span class="n">AAPlugin</span>
<span class="kn">from</span> <span class="nn">safeguard.sessions.plugin.plugin_base</span> <span class="kn">import</span> <span class="n">cookie_property</span>

<span class="k">class</span> <span class="nc">MyPlugin</span><span class="p">(</span><span class="n">AAPlugin</span><span class="p">):</span>
    <span class="nd">@cookie_property</span>
    <span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">42</span>

    <span class="k">def</span> <span class="nf">do_authenticate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">foobar</span> <span class="o">==</span> <span class="mi">42</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">foobar</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">do_authorize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">foobar</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
<p>The decorator <a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.cookie_property" title="safeguard.sessions.plugin.plugin_base.cookie_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;cookie_property</span></code></a> together with code in
<code class="xref py py-class docutils literal notranslate"><span class="pre">AAPlugin</span></code> will ensure that <code class="docutils literal notranslate"><span class="pre">foobar</span></code> is stored and retrieved from
the cookie passed to the plugin.</p>
<p>The initial definition of foobar is 42 in this case, but it can be any function - this function is only called
if foobar was not accessed before. To be more precise foobar is initialized with its factory function if it is
being accessed and it is not present in <code class="docutils literal notranslate"><span class="pre">self.cookie</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="safeguard.sessions.plugin.plugin_base.named_cookie_property">
<code class="descclassname">safeguard.sessions.plugin.plugin_base.</code><code class="descname">named_cookie_property</code><span class="sig-paren">(</span><em>key=None</em><span class="sig-paren">)</span><a class="headerlink" href="#safeguard.sessions.plugin.plugin_base.named_cookie_property" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.named_cookie_property" title="safeguard.sessions.plugin.plugin_base.named_cookie_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;named_cookie_property</span></code></a> decorator is working similarly to the
<a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.cookie_property" title="safeguard.sessions.plugin.plugin_base.cookie_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;cookie_property</span></code></a> decorator.
The only difference is you can specify the key you want to save value in the <code class="docutils literal notranslate"><span class="pre">self.cookie</span></code>
It is important that you have to call the decorator with the desired key name, see usage.</p>
<p><strong>Usage</strong></p>
<p>To use <code class="docutils literal notranslate"><span class="pre">self.my_custom_key</span></code> as a cookie property, simply define it on the Plugin class, and decorate it with
<a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.named_cookie_property" title="safeguard.sessions.plugin.plugin_base.named_cookie_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;named_cookie_property(key=my_custom_key)</span></code></a> decorator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">safeguard.sessions.plugin</span> <span class="kn">import</span> <span class="n">AAPlugin</span>
<span class="kn">from</span> <span class="nn">safeguard.sessions.plugin.plugin_base</span> <span class="kn">import</span> <span class="n">named_cookie_property</span>

<span class="k">class</span> <span class="nc">MyPlugin</span><span class="p">(</span><span class="n">AAPlugin</span><span class="p">):</span>
    <span class="nd">@named_cookie_property</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">my_custom_key</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">42</span>

    <span class="k">def</span> <span class="nf">do_authenticate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="o">.</span><span class="n">my_custom_key</span> <span class="o">==</span> <span class="mi">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="safeguard.sessions.plugin.plugin_base.session_cookie_property">
<code class="descclassname">safeguard.sessions.plugin.plugin_base.</code><code class="descname">session_cookie_property</code><span class="sig-paren">(</span><em>factory</em><span class="sig-paren">)</span><a class="headerlink" href="#safeguard.sessions.plugin.plugin_base.session_cookie_property" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.session_cookie_property" title="safeguard.sessions.plugin.plugin_base.session_cookie_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;session_cookie_property</span></code></a> decorator is used to mark attributes that should be
passed in the session cookie between invocations of all plugins relevant to the session.
Setting up such property is an easy way to store and retrieve data in <code class="docutils literal notranslate"><span class="pre">self.session_cookie</span></code>.
Similarly to <a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.lazy_property" title="safeguard.sessions.plugin.plugin_base.lazy_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;lazy_property</span></code></a> attributes, the evaulation of a
<a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.session_cookie_property" title="safeguard.sessions.plugin.plugin_base.session_cookie_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;session_cookie_property</span></code></a> attribute is also delayed until usage.</p>
<p><strong>Usage</strong></p>
<p>To use <code class="docutils literal notranslate"><span class="pre">self.foobar</span></code> as a session cookie property, simply define it on the Plugin class, and decorate it with
<a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.session_cookie_property" title="safeguard.sessions.plugin.plugin_base.session_cookie_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;session_cookie_property</span></code></a> decorator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">safeguard.sessions.plugin</span> <span class="kn">import</span> <span class="n">AAPlugin</span>
<span class="kn">from</span> <span class="nn">safeguard.sessions.plugin.plugin_base</span> <span class="kn">import</span> <span class="n">session_cookie_property</span>

<span class="k">class</span> <span class="nc">MyPlugin</span><span class="p">(</span><span class="n">AAPlugin</span><span class="p">):</span>
    <span class="nd">@session_cookie_property</span>
    <span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">42</span>

    <span class="k">def</span> <span class="nf">do_authenticate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">foobar</span> <span class="o">==</span> <span class="mi">42</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">foobar</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">do_authorize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">foobar</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
<p>The decorator <a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.session_cookie_property" title="safeguard.sessions.plugin.plugin_base.session_cookie_property"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;session_cookie_property</span></code></a> together with code in
<code class="xref py py-class docutils literal notranslate"><span class="pre">AAPlugin</span></code> will ensure that <code class="docutils literal notranslate"><span class="pre">foobar</span></code> is stored and retrieved from
the session cookie passed to the plugin.</p>
<p>The initial definition of foobar is 42 in this case, but it can be any function - this function is only called
if foobar was not accessed before. To be more precise foobar is initialized with its factory function if it is
being accessed and it is not present in <code class="docutils literal notranslate"><span class="pre">self.session_cookie</span></code>.</p>
</dd></dl>

<dl class="class">
<dt id="safeguard.sessions.plugin.plugin_base.PluginBase">
<em class="property">class </em><code class="descclassname">safeguard.sessions.plugin.plugin_base.</code><code class="descname">PluginBase</code><span class="sig-paren">(</span><em>configuration</em>, <em>defaults=None</em>, <em>logger=None</em><span class="sig-paren">)</span><a class="headerlink" href="#safeguard.sessions.plugin.plugin_base.PluginBase" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#safeguard.sessions.plugin.plugin_base.PluginBase" title="safeguard.sessions.plugin.plugin_base.PluginBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">PluginBase</span></code></a> implements:</p>
<ul class="simple">
<li><p>parsing the textual plugin configuration</p></li>
<li><p>setting the log level</p></li>
<li><p>setting HTTPS proxy environment variables https_proxy and HTTPS_PROXY</p></li>
<li><p>basic cookie handling methods</p></li>
</ul>
</dd></dl>

</div>


          </div>
        </div>
      </div>
    </div>
      <div class="clearer"></div>
      </div>
    </div>
<footer class="footer d-flex justify-content-between flex-wrap">
    <div class="copyright">
        <div>&copy; Copyright 2019, One Identity LLC. ALL RIGHTS RESERVED.</div>
      <div>Generated by <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.0.1 using <a href="https://github.com/myyasuda/sphinxbootstrap4theme">sphinxbootstrap4theme</a> 0.6.0.</div>
    </div>
    <div>
        <a href="#" class="btn btn-primary btn-sm" role="botton">Back to top</a>
    </div>
</footer>
  </body>
</html>